(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{414:function(t,v,_){"use strict";_.r(v);var r=_(5),d=Object(r.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"第一章-概述-introduction"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#第一章-概述-introduction"}},[t._v("#")]),t._v(" 第一章 概述 Introduction")]),t._v(" "),_("h2",{attrs:{id:"_1-1-mqtt协议的组织结构-organization-of-mqtt"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-mqtt协议的组织结构-organization-of-mqtt"}},[t._v("#")]),t._v(" 1.1 MQTT协议的组织结构 Organization of MQTT")]),t._v(" "),_("p",[t._v("本规范分为七个章节：")]),t._v(" "),_("ul",[_("li",[_("RouterLink",{attrs:{to:"/views/mqtt/01-Introduction.html"}},[t._v("第一章 – 介绍")])],1),t._v(" "),_("li",[_("RouterLink",{attrs:{to:"/views/mqtt/02-ControlPacketFormat.html"}},[t._v("第二章 – MQTT控制报文格式")])],1),t._v(" "),_("li",[_("RouterLink",{attrs:{to:"/views/mqtt/03-ControlPackets.html"}},[t._v("第三章 – MQTT控制报文")])],1),t._v(" "),_("li",[_("RouterLink",{attrs:{to:"/views/mqtt/04-OperationalBehavior.html"}},[t._v("第四章 – 操作行为")])],1),t._v(" "),_("li",[_("RouterLink",{attrs:{to:"/views/mqtt/05-Security.html"}},[t._v("第五章 – 安全")])],1),t._v(" "),_("li",[_("RouterLink",{attrs:{to:"/views/mqtt/06-WebSocket.html"}},[t._v("第六章 – 使用WebSocket")])],1),t._v(" "),_("li",[_("RouterLink",{attrs:{to:"/views/mqtt/07-Conformance.html"}},[t._v("第七章 – 一致性目标")])],1),t._v(" "),_("li",[_("RouterLink",{attrs:{to:"/views/mqtt/08-AppendixB.html"}},[t._v("附录B – 强制性规范声明")])],1)]),t._v(" "),_("h2",{attrs:{id:"_1-2-术语-terminology"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-术语-terminology"}},[t._v("#")]),t._v(" 1.2 术语 Terminology")]),t._v(" "),_("p",[t._v("本规范中用到的关键字 "),_("strong",[t._v("必须")]),t._v(" MUST，"),_("strong",[t._v("不能")]),t._v(" MUST NOT，"),_("strong",[t._v("要求")]),t._v(" REQUIRED，"),_("strong",[t._v("将会")]),t._v(" SHALL，"),_("strong",[t._v("不会")]),t._v(" SHALL NOT，"),_("strong",[t._v("应该")]),t._v(" SHOULD，"),_("strong",[t._v("不应该")]),t._v(" SHOULD NOT，"),_("strong",[t._v("推荐")]),t._v(" RECOMMENDED，"),_("strong",[t._v("可以")]),t._v(" MAY，"),_("strong",[t._v("可选")]),t._v(" OPTIONAL 都是按照 IETF RFC 2119 "),_("a",{attrs:{href:"#anchor-RFC2119"}},[t._v("[RFC2119]")]),t._v(" 中的描述解释。")]),t._v(" "),_("p",[_("strong",[t._v("网络连接 Network Connection")])]),t._v(" "),_("p",[t._v("MQTT使用的底层传输协议基础设施。")]),t._v(" "),_("ul",[_("li",[t._v("客户端使用它连接服务端。")]),t._v(" "),_("li",[t._v("它提供有序的、可靠的、双向字节流传输。")])]),t._v(" "),_("p",[t._v("例子见4.2节。")]),t._v(" "),_("p",[_("strong",[t._v("应用消息 Application Message")]),t._v("\nMQTT协议通过网络传输应用数据。应用消息通过MQTT传输时，它们有关联的服务质量（QoS）和主题（Topic）。")]),t._v(" "),_("p",[_("strong",[t._v("客户端 Client")]),_("br"),t._v("\n使用MQTT的程序或设备。客户端总是通过网络连接到服务端。它可以")]),t._v(" "),_("ul",[_("li",[t._v("发布应用消息给其它相关的客户端。")]),t._v(" "),_("li",[t._v("订阅以请求接受相关的应用消息。")]),t._v(" "),_("li",[t._v("取消订阅以移除接受应用消息的请求。")]),t._v(" "),_("li",[t._v("从服务端断开连接。")])]),t._v(" "),_("p",[_("strong",[t._v("服务端 Server")]),_("br"),t._v("\n一个程序或设备，作为发送消息的客户端和请求订阅的客户端之间的中介。服务端")]),t._v(" "),_("ul",[_("li",[t._v("接受来自客户端的网络连接。")]),t._v(" "),_("li",[t._v("接受客户端发布的应用消息。")]),t._v(" "),_("li",[t._v("处理客户端的订阅和取消订阅请求。")]),t._v(" "),_("li",[t._v("转发应用消息给符合条件的已订阅客户端。")])]),t._v(" "),_("p",[_("strong",[t._v("订阅 Subscription")]),_("br"),t._v("\n订阅包含一个主题过滤器（Topic Filter）和一个最大的服务质量（QoS）等级。订阅与单个会话（Session）关联。会话可以包含多于一个的订阅。会话的每个订阅都有一个不同的主题过滤器。")]),t._v(" "),_("p",[_("strong",[t._v("主题名 Topic Name")]),_("br"),t._v("\n附加在应用消息上的一个标签，服务端已知且与订阅匹配。服务端发送应用消息的一个副本给每一个匹配的客户端订阅。")]),t._v(" "),_("p",[_("strong",[t._v("主题过滤器 Topic Filter")]),_("br"),t._v("\n订阅中包含的一个表达式，用于表示相关的一个或多个主题。主题过滤器可以使用通配符。")]),t._v(" "),_("p",[_("strong",[t._v("会话 Session")]),_("br"),t._v("\n客户端和服务端之间的状态交互。一些会话持续时长与网络连接一样，另一些可以在客户端和服务端的多个连续网络连接间扩展。")]),t._v(" "),_("p",[_("strong",[t._v("控制报文 MQTT Control Packet")]),_("br"),t._v("\n通过网络连接发送的信息数据包。MQTT规范定义了十四种不同类型的控制报文，其中一个（PUBLISH报文）用于传输应用消息。")]),t._v(" "),_("h2",{attrs:{id:"_1-5-数据表示-data-representations"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-数据表示-data-representations"}},[t._v("#")]),t._v(" 1.5 数据表示 Data representations")]),t._v(" "),_("h3",{attrs:{id:"_1-5-1-二进制位-bits"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-1-二进制位-bits"}},[t._v("#")]),t._v(" 1.5.1 二进制位 Bits")]),t._v(" "),_("p",[t._v("字节中的位从0到7。第7位是最高有效位，第0位是最低有效位。")]),t._v(" "),_("h3",{attrs:{id:"_1-5-2-整数数值-integer-data-values"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-2-整数数值-integer-data-values"}},[t._v("#")]),t._v(" 1.5.2 整数数值 Integer data values")]),t._v(" "),_("p",[t._v("整数数值是16位，使用大端序（big-endian，高位字节在低位字节前面）。这意味着一个16位的字在网络上表示为最高有效字节（MSB），后面跟着最低有效字节（LSB）。")]),t._v(" "),_("h3",{attrs:{id:"_1-5-3-utf-8编码字符串-utf-8-encoded-strings"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-3-utf-8编码字符串-utf-8-encoded-strings"}},[t._v("#")]),t._v(" 1.5.3 UTF-8编码字符串 UTF-8 encoded strings")]),t._v(" "),_("p",[t._v("后面会描述的控制报文中的文本字段编码为UTF-8格式的字符串。UTF-8 ["),_("a",{attrs:{href:"#RFC3629"}},[t._v("RFC3629")]),t._v("] 是一个高效的Unicode字符编码格式，为了支持基于文本的通信，它对ASCII字符的编码做了优化。")]),t._v(" "),_("p",[t._v("每一个字符串都有一个两字节的长度字段作为前缀，它给出这个字符串UTF-8编码的字节数，它们在"),_("a",{attrs:{href:"#_Figure_1.1_Structure"}},[t._v("图例 1.1 UTF-8编码字符串的结构")]),t._v(" 中描述。因此可以传送的UTF-8编码的字符串大小有一个限制，不能超过 65535字节。")]),t._v(" "),_("p",[t._v("除非另有说明，所有的UTF-8编码字符串的长度都必须在0到65535字节这个范围内。")]),t._v(" "),_("h5",{attrs:{id:"图例-1-1-utf-8编码字符串的结构-structure-of-utf-8-encoded-strings"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#图例-1-1-utf-8编码字符串的结构-structure-of-utf-8-encoded-strings"}},[t._v("#")]),t._v(" 图例 1.1 UTF-8编码字符串的结构 Structure of UTF-8 encoded strings")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[_("strong",[t._v("二进制位")])]),t._v(" "),_("th",[t._v("7-0")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("byte 1")]),t._v(" "),_("td",[t._v("字符串长度的最高有效字节（MSB）")])]),t._v(" "),_("tr",[_("td",[t._v("byte 2")]),t._v(" "),_("td",[t._v("字符串长度的最低有效字节（LSB）")])]),t._v(" "),_("tr",[_("td",[t._v("byte 3 ….")]),t._v(" "),_("td",[t._v("如果长度大于0，这里是UTF-8编码的字符数据。")])])])]),t._v(" "),_("p",[t._v("UTF-8编码字符串中的字符数据"),_("strong",[t._v("必须")]),t._v("是按照Unicode规范 ["),_("a",{attrs:{href:"#Unicode"}},[t._v("Unicode")]),t._v("] 定义的和在RFC3629 ["),_("a",{attrs:{href:"#RFC3629"}},[t._v("RFC3629")]),t._v("] 中重申的有效的UTF-8格式。特别需要指出的是，这些数据"),_("strong",[t._v("不能")]),t._v("包含字符码在U+D800和U+DFFF之间的数据。如果服务端或客户端收到了一个包含无效UTF-8字符的控制报文，它"),_("strong",[t._v("必须")]),t._v("关闭网络连接  [MQTT-1.5.3-1]。")]),t._v(" "),_("p",[t._v("UTF-8编码的字符串"),_("strong",[t._v("不能")]),t._v("包含空字符U+0000。如果客户端或服务端收到了一个包含U+0000的控制报文，它"),_("strong",[t._v("必须")]),t._v("关闭网络连接 [MQTT-1.5.3-2]。")]),t._v(" "),_("p",[t._v("数据中"),_("strong",[t._v("不应该")]),t._v("包含下面这些Unicode代码点的编码。如果一个接收者（服务端或客户端）收到了包含下列任意字符的控制报文，它"),_("strong",[t._v("可以")]),t._v("关闭网络连接：")]),t._v(" "),_("ul",[_("li",[t._v("U+0001和U+001F之间的控制字符")]),t._v(" "),_("li",[t._v("U+007F和U+009F之间的控制字符")]),t._v(" "),_("li",[t._v("Unicode规范定义的非字符代码点（例如U+0FFFF）")]),t._v(" "),_("li",[t._v("Unicode规范定义的保留字符（例如U+0FFFF）")])]),t._v(" "),_("p",[t._v("UTF-8编码序列0XEF 0xBB 0xBF总是被解释为U+FEFF（零宽度非换行空白字符），无论它出现在字符串的什么位置，报文接收者都不能跳过或者剥离它  [MQTT-1.5.3-3]。")]),t._v(" "),_("h4",{attrs:{id:"非规范示例-non-normative-example"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#非规范示例-non-normative-example"}},[t._v("#")]),t._v(" 非规范示例 Non normative example")]),t._v(" "),_("blockquote",[_("p",[t._v("例如，字符串 A𪛔 是一个拉丁字母A后面跟着一个代码点U+2A6D4(它表示一个中日韩统一表意文字扩展B中的字符)，这个字符串编码如下：")])]),t._v(" "),_("h5",{attrs:{id:"图例-1-2-utf-8编码字符串非规范示例-utf-8-encoded-string-non-normative-example"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#图例-1-2-utf-8编码字符串非规范示例-utf-8-encoded-string-non-normative-example"}},[t._v("#")]),t._v(" 图例 1.2 UTF-8编码字符串非规范示例 UTF-8 encoded string non normative example")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[_("strong",[t._v("Bit")])]),t._v(" "),_("th",[_("strong",[t._v("7")])]),t._v(" "),_("th",[_("strong",[t._v("6")])]),t._v(" "),_("th",[_("strong",[t._v("5")])]),t._v(" "),_("th",[_("strong",[t._v("4")])]),t._v(" "),_("th",[_("strong",[t._v("3")])]),t._v(" "),_("th",[_("strong",[t._v("2")])]),t._v(" "),_("th",[_("strong",[t._v("1")])]),t._v(" "),_("th",[_("strong",[t._v("0")])])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("byte 1")]),t._v(" "),_("td",[t._v("字符串长度 MSB (0x00)")]),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td"),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("0")])]),t._v(" "),_("tr",[_("td",[t._v("byte 2")]),t._v(" "),_("td",[t._v("字符串长度 LSB (0x05)")]),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td"),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("1")]),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("1")])]),t._v(" "),_("tr",[_("td",[t._v("byte 3")]),t._v(" "),_("td",[t._v("‘A’ (0x41)")]),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td"),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("1")]),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("1")])]),t._v(" "),_("tr",[_("td",[t._v("byte 4")]),t._v(" "),_("td",[t._v("(0xF0)")]),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td"),t._v(" "),_("td",[t._v("1")]),t._v(" "),_("td",[t._v("1")]),t._v(" "),_("td",[t._v("1")]),t._v(" "),_("td",[t._v("1")]),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("0")])]),t._v(" "),_("tr",[_("td",[t._v("byte 5")]),t._v(" "),_("td",[t._v("(0xAA)")]),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td"),t._v(" "),_("td",[t._v("1")]),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("1")]),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("1")]),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("1")]),t._v(" "),_("td",[t._v("0")])]),t._v(" "),_("tr",[_("td",[t._v("byte 6")]),t._v(" "),_("td",[t._v("(0x9B)")]),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td"),t._v(" "),_("td",[t._v("1")]),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("1")]),t._v(" "),_("td",[t._v("1")]),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("1")]),t._v(" "),_("td",[t._v("1")])]),t._v(" "),_("tr",[_("td",[t._v("byte 7")]),t._v(" "),_("td",[t._v("(0x94)")]),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td"),t._v(" "),_("td",[t._v("1")]),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("1")]),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("1")]),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("0")])])])]),t._v(" "),_("h3",{attrs:{id:"_1-6-编辑约定-editing-conventions"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-编辑约定-editing-conventions"}},[t._v("#")]),t._v(" 1.6 编辑约定 Editing conventions")]),t._v(" "),_("p",[t._v("本规范用黄色高亮的文本标识一致性声明，每个一致性声明都分配了一个这种格式的引用：[MQTT-x.x.x-y]。")]),t._v(" "),_("h3",{attrs:{id:"项目主页"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#项目主页"}},[t._v("#")]),t._v(" 项目主页")]),t._v(" "),_("ul",[_("li",[_("a",{attrs:{href:"https://github.com/mcxiaoke/mqtt",target:"_blank",rel:"noopener noreferrer"}},[t._v("MQTT协议中文版"),_("OutboundLink")],1)])])])}),[],!1,null,null,null);v.default=d.exports}}]);