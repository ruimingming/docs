(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{422:function(t,_,v){"use strict";v.r(_);var r=v(5),a=Object(r.a)({},(function(){var t=this,_=t.$createElement,v=t._self._c||_;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h2",{attrs:{id:"_3-9-suback-订阅确认"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-9-suback-订阅确认"}},[t._v("#")]),t._v(" 3.9 SUBACK – 订阅确认")]),t._v(" "),v("p",[t._v("服务端发送SUBACK报文给客户端，用于确认它已收到并且正在处理SUBSCRIBE报文。")]),t._v(" "),v("p",[t._v("SUBACK报文包含一个返回码清单，它们指定了SUBSCRIBE请求的每个订阅被授予的最大QoS等级。")]),t._v(" "),v("h3",{attrs:{id:"_3-9-1-固定报头"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-9-1-固定报头"}},[t._v("#")]),t._v(" 3.9.1 固定报头")]),t._v(" "),v("h5",{attrs:{id:"图例-3-24-suback报文固定报头"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#图例-3-24-suback报文固定报头"}},[t._v("#")]),t._v(" 图例 3.24 – SUBACK报文固定报头")]),t._v(" "),v("table",{staticStyle:{"text-align":"center"}},[v("tr",[v("td",{attrs:{align:"center"}},[v("strong",[t._v("Bit")])]),t._v(" "),v("td",{attrs:{align:"center"}},[v("strong",[t._v("7")])]),t._v(" "),v("td",{attrs:{align:"center"}},[v("strong",[t._v("6")])]),t._v(" "),v("td",{attrs:{align:"center"}},[v("strong",[t._v("5")])]),t._v(" "),v("td",{attrs:{align:"center"}},[v("strong",[t._v("4")])]),t._v(" "),v("td",{attrs:{align:"center"}},[v("strong",[t._v("3")])]),t._v(" "),v("td",{attrs:{align:"center"}},[v("strong",[t._v("2")])]),t._v(" "),v("td",{attrs:{align:"center"}},[v("strong",[t._v("1")])]),t._v(" "),v("td",{attrs:{align:"center"}},[v("strong",[t._v("0")])])]),t._v(" "),v("tr",[v("td",[t._v("byte 1")]),t._v(" "),v("td",{attrs:{colspan:"4",align:"center"}},[t._v("MQTT控制报文类型 (9)")]),t._v(" "),v("td",{attrs:{colspan:"4",align:"center"}},[t._v("保留位")])]),t._v(" "),v("tr",[v("td"),t._v(" "),v("td",{attrs:{align:"center"}},[t._v("1")]),t._v(" "),v("td",{attrs:{align:"center"}},[t._v("0")]),t._v(" "),v("td",{attrs:{align:"center"}},[t._v("0")]),t._v(" "),v("td",{attrs:{align:"center"}},[t._v("1")]),t._v(" "),v("td",{attrs:{align:"center"}},[t._v("0")]),t._v(" "),v("td",{attrs:{align:"center"}},[t._v("0")]),t._v(" "),v("td",{attrs:{align:"center"}},[t._v("0")]),t._v(" "),v("td",{attrs:{align:"center"}},[t._v("0")])]),t._v(" "),v("tr",[v("td",[t._v("byte 2")]),t._v(" "),v("td",{attrs:{colspan:"8",align:"center"}},[t._v("剩余长度")])])]),t._v(" "),v("p",[v("strong",[t._v("剩余长度字段")])]),t._v(" "),v("p",[t._v("等于可变报头的长度加上有效载荷的长度。")]),t._v(" "),v("h3",{attrs:{id:"_3-9-2-可变报头"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-9-2-可变报头"}},[t._v("#")]),t._v(" 3.9.2 可变报头")]),t._v(" "),v("p",[t._v("可变报头包含等待确认的SUBSCRIBE报文的报文标识符。"),v("a",{attrs:{href:"#_%E5%9B%BE%E4%BE%8B_3.25_%E2%80%93"}},[t._v("图例 3.25 – SUBACK报文可变报头")]),t._v(" 描述了可变报头的格式。")]),t._v(" "),v("h5",{attrs:{id:"图例-3-25-suback报文可变报头"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#图例-3-25-suback报文可变报头"}},[t._v("#")]),t._v(" 图例 3.25 – SUBACK报文可变报头")]),t._v(" "),v("table",{staticStyle:{"text-align":"center"}},[v("tr",[v("td",{attrs:{align:"center"}},[v("strong",[t._v("Bit")])]),t._v(" "),v("td",{attrs:{align:"center"}},[v("strong",[t._v("7")])]),t._v(" "),v("td",{attrs:{align:"center"}},[v("strong",[t._v("6")])]),t._v(" "),v("td",{attrs:{align:"center"}},[v("strong",[t._v("5")])]),t._v(" "),v("td",{attrs:{align:"center"}},[v("strong",[t._v("4")])]),t._v(" "),v("td",{attrs:{align:"center"}},[v("strong",[t._v("3")])]),t._v(" "),v("td",{attrs:{align:"center"}},[v("strong",[t._v("2")])]),t._v(" "),v("td",{attrs:{align:"center"}},[v("strong",[t._v("1")])]),t._v(" "),v("td",{attrs:{align:"center"}},[v("strong",[t._v("0")])])]),t._v(" "),v("tr",[v("td",[t._v("byte 1")]),t._v(" "),v("td",{attrs:{colspan:"8",align:"center"}},[t._v("报文标识符 MSB")])]),t._v(" "),v("tr",[v("td",[t._v("byte 2")]),t._v(" "),v("td",{attrs:{colspan:"8",align:"center"}},[t._v("报文标识符 LSB")])])]),t._v(" "),v("h3",{attrs:{id:"_3-9-3-有效载荷"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-9-3-有效载荷"}},[t._v("#")]),t._v(" 3.9.3 有效载荷")]),t._v(" "),v("p",[t._v("有效载荷包含一个返回码清单。每个返回码对应等待确认的SUBSCRIBE报文中的一个主题过滤器。返回码的顺序"),v("strong",[t._v("必须")]),t._v("和SUBSCRIBE报文中主题过滤器的顺序相同 [MQTT-3.9.3-1]。")]),t._v(" "),v("p",[v("a",{attrs:{href:"#_Figure_3.26_-"}},[t._v("图例 3.26 – SUBACK报文有效载荷格式")]),t._v(" 描述了有效载荷中单字节编码的返回码字段。")]),t._v(" "),v("h5",{attrs:{id:"图例-3-26-suback报文有效载荷格式"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#图例-3-26-suback报文有效载荷格式"}},[t._v("#")]),t._v(" 图例 3.26 – SUBACK报文有效载荷格式")]),t._v(" "),v("table",{staticStyle:{"text-align":"center"}},[v("tr",[v("td",{attrs:{align:"center"}},[v("strong",[t._v("Bit")])]),t._v(" "),v("td",{attrs:{align:"center"}},[v("strong",[t._v("7")])]),t._v(" "),v("td",{attrs:{align:"center"}},[v("strong",[t._v("6")])]),t._v(" "),v("td",{attrs:{align:"center"}},[v("strong",[t._v("5")])]),t._v(" "),v("td",{attrs:{align:"center"}},[v("strong",[t._v("4")])]),t._v(" "),v("td",{attrs:{align:"center"}},[v("strong",[t._v("3")])]),t._v(" "),v("td",{attrs:{align:"center"}},[v("strong",[t._v("2")])]),t._v(" "),v("td",{attrs:{align:"center"}},[v("strong",[t._v("1")])]),t._v(" "),v("td",{attrs:{align:"center"}},[v("strong",[t._v("0")])])]),t._v(" "),v("tr",[v("td"),t._v(" "),v("td",{attrs:{colspan:"8",align:"center"}},[t._v("返回码")])]),t._v(" "),v("tr",[v("td",[t._v("byte 1")]),t._v(" "),v("td",{attrs:{align:"center"}},[t._v("X")]),t._v(" "),v("td",{attrs:{align:"center"}},[t._v("0")]),t._v(" "),v("td",{attrs:{align:"center"}},[t._v("0")]),t._v(" "),v("td",{attrs:{align:"center"}},[t._v("0")]),t._v(" "),v("td",{attrs:{align:"center"}},[t._v("0")]),t._v(" "),v("td",{attrs:{align:"center"}},[t._v("0")]),t._v(" "),v("td",{attrs:{align:"center"}},[t._v("X")]),t._v(" "),v("td",{attrs:{align:"center"}},[t._v("X")])])]),t._v(" "),v("p",[t._v("允许的返回码值：")]),t._v(" "),v("ul",[v("li",[t._v("0x00 - 最大QoS 0")]),t._v(" "),v("li",[t._v("0x01 - 成功 – 最大QoS 1")]),t._v(" "),v("li",[t._v("0x02 - 成功 – 最大 QoS 2")]),t._v(" "),v("li",[t._v("0x80 - Failure  失败")])]),t._v(" "),v("p",[t._v("0x00, 0x01, 0x02, 0x80之外的SUBACK返回码是保留的，"),v("strong",[t._v("不能")]),t._v("使用[MQTT-3.9.3-2]。")]),t._v(" "),v("h4",{attrs:{id:"有效载荷非规范示例"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#有效载荷非规范示例"}},[t._v("#")]),t._v(" 有效载荷非规范示例")]),t._v(" "),v("blockquote",[v("p",[v("a",{attrs:{href:"#_Figure_3.27_-"}},[t._v("图例 3.27 -有效载荷字节格式非规范示例")]),t._v(" 展示了在 "),v("a",{attrs:{href:"#_Table_3.5_-"}},[t._v("表格 3.6 -有效载荷非规范示例")]),t._v(" 简要描述的SUBACK报文的有效载荷。")])]),t._v(" "),v("h5",{attrs:{id:"表格-3-6-有效载荷非规范示例"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#表格-3-6-有效载荷非规范示例"}},[t._v("#")]),t._v(" 表格 3.6 -有效载荷非规范示例")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("Success - Maximum QoS 0")]),t._v(" "),v("th",[t._v("0")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("Success - Maximum QoS 2")]),t._v(" "),v("td",[t._v("2")])]),t._v(" "),v("tr",[v("td",[t._v("Failure")]),t._v(" "),v("td",[t._v("128")])])])]),t._v(" "),v("h5",{attrs:{id:"图例-3-27-有效载荷字节格式非规范示例"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#图例-3-27-有效载荷字节格式非规范示例"}},[t._v("#")]),t._v(" 图例 3.27 -有效载荷字节格式非规范示例")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th"),t._v(" "),v("th",[v("strong",[t._v("描述")])]),t._v(" "),v("th",[v("strong",[t._v("7")])]),t._v(" "),v("th",[v("strong",[t._v("6")])]),t._v(" "),v("th",[v("strong",[t._v("5")])]),t._v(" "),v("th",[v("strong",[t._v("4")])]),t._v(" "),v("th",[v("strong",[t._v("3")])]),t._v(" "),v("th",[v("strong",[t._v("2")])]),t._v(" "),v("th",[v("strong",[t._v("1")])]),t._v(" "),v("th",[v("strong",[t._v("0")])])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("byte 1")]),t._v(" "),v("td",[t._v("Success - Maximum QoS 0")]),t._v(" "),v("td",[t._v("0")]),t._v(" "),v("td",[t._v("0")]),t._v(" "),v("td",[t._v("0")]),t._v(" "),v("td",[t._v("0")]),t._v(" "),v("td",[t._v("0")]),t._v(" "),v("td",[t._v("0")]),t._v(" "),v("td",[t._v("0")]),t._v(" "),v("td",[t._v("0")])]),t._v(" "),v("tr",[v("td",[t._v("byte 2")]),t._v(" "),v("td",[t._v("Success - Maximum QoS 2")]),t._v(" "),v("td",[t._v("0")]),t._v(" "),v("td",[t._v("0")]),t._v(" "),v("td",[t._v("0")]),t._v(" "),v("td",[t._v("0")]),t._v(" "),v("td",[t._v("0")]),t._v(" "),v("td",[t._v("0")]),t._v(" "),v("td",[t._v("1")]),t._v(" "),v("td",[t._v("0")])]),t._v(" "),v("tr",[v("td",[t._v("byte 3")]),t._v(" "),v("td",[t._v("Failure")]),t._v(" "),v("td",[t._v("1")]),t._v(" "),v("td",[t._v("0")]),t._v(" "),v("td",[t._v("0")]),t._v(" "),v("td",[t._v("0")]),t._v(" "),v("td",[t._v("0")]),t._v(" "),v("td",[t._v("0")]),t._v(" "),v("td",[t._v("0")]),t._v(" "),v("td",[t._v("0")])])])]),t._v(" "),v("h3",{attrs:{id:"第三章目录-mqtt控制报文"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#第三章目录-mqtt控制报文"}},[t._v("#")]),t._v(" 第三章目录 MQTT控制报文")]),t._v(" "),v("ul",[v("li",[v("RouterLink",{attrs:{to:"/views/mqtt/03-ControlPackets.html"}},[t._v("3.0 Contents – MQTT控制报文")])],1),t._v(" "),v("li",[v("RouterLink",{attrs:{to:"/views/mqtt/0301-CONNECT.html"}},[t._v("3.1 CONNECT – 连接服务端")])],1),t._v(" "),v("li",[v("RouterLink",{attrs:{to:"/views/mqtt/0302-CONNACK.html"}},[t._v("3.2 CONNACK – 确认连接请求")])],1),t._v(" "),v("li",[v("RouterLink",{attrs:{to:"/views/mqtt/0303-PUBLISH.html"}},[t._v("3.3 PUBLISH – 发布消息")])],1),t._v(" "),v("li",[v("RouterLink",{attrs:{to:"/views/mqtt/0304-PUBACK.html"}},[t._v("3.4 PUBACK –发布确认")])],1),t._v(" "),v("li",[v("RouterLink",{attrs:{to:"/views/mqtt/0305-PUBREC.html"}},[t._v("3.5 PUBREC – 发布收到（QoS 2，第一步）")])],1),t._v(" "),v("li",[v("RouterLink",{attrs:{to:"/views/mqtt/0306-PUBREL.html"}},[t._v("3.6 PUBREL – 发布释放（QoS 2，第二步）")])],1),t._v(" "),v("li",[v("RouterLink",{attrs:{to:"/views/mqtt/0307-PUBCOMP.html"}},[t._v("3.7 PUBCOMP – 发布完成（QoS 2，第三步）")])],1),t._v(" "),v("li",[v("RouterLink",{attrs:{to:"/views/mqtt/0308-SUBSCRIBE.html"}},[t._v("3.8 SUBSCRIBE - 订阅主题")])],1),t._v(" "),v("li",[v("RouterLink",{attrs:{to:"/views/mqtt/0309-SUBACK.html"}},[t._v("3.9 SUBACK – 订阅确认")])],1),t._v(" "),v("li",[v("RouterLink",{attrs:{to:"/views/mqtt/0310-UNSUBSCRIBE.html"}},[t._v("3.10 UNSUBSCRIBE –取消订阅")])],1),t._v(" "),v("li",[v("RouterLink",{attrs:{to:"/views/mqtt/0311-UNSUBACK.html"}},[t._v("3.11 UNSUBACK – 取消订阅确认")])],1),t._v(" "),v("li",[v("RouterLink",{attrs:{to:"/views/mqtt/0312-PINGREQ.html"}},[t._v("3.12 PINGREQ – 心跳请求")])],1),t._v(" "),v("li",[v("RouterLink",{attrs:{to:"/views/mqtt/0313-PINGRESP.html"}},[t._v("3.13 PINGRESP – 心跳响应")])],1),t._v(" "),v("li",[v("RouterLink",{attrs:{to:"/views/mqtt/0314-DISCONNECT.html"}},[t._v("3.14 DISCONNECT –断开连接")])],1)]),t._v(" "),v("h3",{attrs:{id:"项目主页"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#项目主页"}},[t._v("#")]),t._v(" 项目主页")]),t._v(" "),v("ul",[v("li",[v("a",{attrs:{href:"https://github.com/mcxiaoke/mqtt",target:"_blank",rel:"noopener noreferrer"}},[t._v("MQTT协议中文版"),v("OutboundLink")],1)])])])}),[],!1,null,null,null);_.default=a.exports}}]);